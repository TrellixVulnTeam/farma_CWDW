{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/cliente.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/card\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"@angular/material/badge\";\nimport * as i8 from \"@angular/forms\";\nimport * as i9 from \"@angular/material/autocomplete\";\nimport * as i10 from \"@angular/material/core\";\n\nfunction ReadAllComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"mat-card\", 11)(2, \"mat-card-header\")(3, \"mat-card-title\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"mat-card-subtitle\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"mat-card-subtitle\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"mat-card-subtitle\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 12)(12, \"button\", 13)(13, \"mat-icon\");\n    i0.ɵɵtext(14, \"editar\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function ReadAllComponent_div_9_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.inativarCliente(item_r3));\n    });\n    i0.ɵɵelementStart(16, \"mat-icon\");\n    i0.ɵɵtext(17, \"done\");\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r3.nome);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.cpf);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.telefone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"update/\", item_r3.id, \"\");\n  }\n}\n\nfunction ReadAllComponent_mat_option_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const cpf_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", cpf_r6);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", cpf_r6, \" \");\n  }\n}\n\nexport class ReadAllComponent {\n  constructor(service, router) {\n    this.service = service;\n    this.router = router;\n    this.inativo = 0;\n    this.list = [];\n    this.listFinished = [];\n  }\n\n  ngOnInit() {\n    this.findAll();\n  }\n\n  findAll() {\n    this.service.findAll().subscribe(resposta => {\n      resposta.forEach(cliente => {\n        if (cliente.ativo) {\n          this.listFinished.push(cliente);\n        } else {\n          this.list.push(cliente);\n        }\n      });\n      this.inativo = this.listFinished.length;\n    });\n  }\n\n  inativarCliente(item) {\n    item.ativo = true;\n    this.service.update(item).subscribe(() => {\n      this.service.message('Cliente desativado!');\n      this.list = this.list.filter(cliente => cliente.id !== item.id);\n      this.inativo++;\n    });\n  }\n\n  navegarParaInativos() {\n    this.router.navigate(['inativo']);\n  }\n\n}\n\nReadAllComponent.ɵfac = function ReadAllComponent_Factory(t) {\n  return new (t || ReadAllComponent)(i0.ɵɵdirectiveInject(i1.ClienteService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nReadAllComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ReadAllComponent,\n  selectors: [[\"app-read-all\"]],\n  decls: 16,\n  vars: 6,\n  consts: [[1, \"container\"], [1, \"badge\"], [\"mat-stroked-button\", \"\", \"color\", \"primary\", 3, \"matBadge\", \"click\"], [\"routerLink\", \"listar\", \"mat-stroked-button\", \"\", \"color\", \"primary\"], [\"routerLink\", \"create\", \"mat-stroked-button\", \"\", \"color\", \"primary\", 1, \"novo\", \"mat-elevation-z8\"], [\"class\", \"content\", 4, \"ngFor\", \"ngForOf\"], [1, \"example-form\"], [\"type\", \"text\", \"placeholder\", \"Search for a cpf\", 3, \"matAutocomplete\"], [\"auto\", \"matAutocomplete\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"content\"], [1, \"mat-elevation-z8\"], [1, \"actions\"], [\"mat-mini-fab\", \"\", \"color\", \"accent\", 3, \"routerLink\"], [\"mat-mini-fab\", \"\", \"color\", \"warn\", 3, \"click\"], [3, \"value\"]],\n  template: function ReadAllComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function ReadAllComponent_Template_button_click_2_listener() {\n        return ctx.navegarParaInativos();\n      });\n      i0.ɵɵtext(3, \"Clientes inativos\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 1)(5, \"button\", 3);\n      i0.ɵɵtext(6, \"Listar todos os clientes\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"button\", 4);\n      i0.ɵɵtext(8, \"Novo Cliente\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(9, ReadAllComponent_div_9_Template, 18, 5, \"div\", 5);\n      i0.ɵɵelementStart(10, \"form\", 6);\n      i0.ɵɵelement(11, \"input\", 7);\n      i0.ɵɵelementStart(12, \"mat-autocomplete\", null, 8);\n      i0.ɵɵtemplate(14, ReadAllComponent_mat_option_14_Template, 2, 2, \"mat-option\", 9);\n      i0.ɵɵpipe(15, \"async\");\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(13);\n\n      i0.ɵɵadvance(2);\n      i0.ɵɵpropertyInterpolate(\"matBadge\", ctx.inativo);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngForOf\", ctx.list);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"matAutocomplete\", _r1);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(15, 4, ctx.list));\n    }\n  },\n  dependencies: [i3.NgForOf, i2.RouterLink, i4.MatCard, i4.MatCardHeader, i4.MatCardTitle, i4.MatCardSubtitle, i5.MatButton, i6.MatIcon, i7.MatBadge, i8.ɵNgNoValidate, i8.NgControlStatusGroup, i8.NgForm, i9.MatAutocomplete, i9.MatAutocompleteTrigger, i10.MatOption, i3.AsyncPipe],\n  styles: [\".container[_ngcontent-%COMP%]{\\r\\n    width: 85%;\\r\\n    margin: auto;\\r\\n}\\r\\n\\r\\n.badge[_ngcontent-%COMP%] {\\r\\n    margin-top: 1.5rem;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n.badge[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\r\\n    margin: auto;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.content[_ngcontent-%COMP%]{\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.novo[_ngcontent-%COMP%]{\\r\\n    width: 100%;\\r\\n    margin-top: 3rem;\\r\\n}\\r\\n\\r\\nmat-card[_ngcontent-%COMP%]{\\r\\n    margin-top: .8rem;\\r\\n    padding: .2rem;\\r\\n}\\r\\n\\r\\np[_ngcontent-%COMP%]{\\r\\n    text-align: end;\\r\\n    font-weight: 600;\\r\\n    color: rgb(114, 111, 111);\\r\\n    margin-bottom: 0;\\r\\n}\\r\\n\\r\\n.actions[_ngcontent-%COMP%]{\\r\\n   text-align: end;\\r\\n\\r\\n}\\r\\n\\r\\n.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{\\r\\n    margin: .5rem;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlYWQtYWxsLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxVQUFVO0lBQ1YsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2IsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFlBQVk7SUFDWixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLHlCQUF5QjtJQUN6QixnQkFBZ0I7QUFDcEI7O0FBRUE7R0FDRyxlQUFlOztBQUVsQjs7QUFFQTtJQUNJLGFBQWE7QUFDakIiLCJmaWxlIjoicmVhZC1hbGwuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXJ7XHJcbiAgICB3aWR0aDogODUlO1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG59XHJcblxyXG4uYmFkZ2Uge1xyXG4gICAgbWFyZ2luLXRvcDogMS41cmVtO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLmJhZGdlIGJ1dHRvbiB7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLmNvbnRlbnR7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLm5vdm97XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1hcmdpbi10b3A6IDNyZW07XHJcbn1cclxuXHJcbm1hdC1jYXJke1xyXG4gICAgbWFyZ2luLXRvcDogLjhyZW07XHJcbiAgICBwYWRkaW5nOiAuMnJlbTtcclxufVxyXG5cclxucHtcclxuICAgIHRleHQtYWxpZ246IGVuZDtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICBjb2xvcjogcmdiKDExNCwgMTExLCAxMTEpO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMDtcclxufVxyXG5cclxuLmFjdGlvbnN7XHJcbiAgIHRleHQtYWxpZ246IGVuZDtcclxuXHJcbn1cclxuXHJcbi5hY3Rpb25zIGJ1dHRvbntcclxuICAgIG1hcmdpbjogLjVyZW07XHJcbn0iXX0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;IAWIA,gCAA+C,CAA/C,EAA+C,UAA/C,EAA+C,EAA/C,EAA+C,CAA/C,EAA+C,iBAA/C,EAA+C,CAA/C,EAA+C,gBAA/C;IAI0BA;IAAaA;IAC7BA;IAAmBA;IAAYA;IAC/BA;IAAmBA;IAAcA;IACjCA;IAAmBA;IAAiBA;IAGtCA,iCAAqB,EAArB,EAAqB,QAArB,EAAqB,EAArB,EAAqB,EAArB,EAAqB,UAArB;IAEkBA;IAAMA;IAElBA;IAAQA;MAAA;MAAA;MAAA;MAAA,OAASA,+CAAT;IAA8B,CAA9B;IACNA;IAAUA;IAAIA;;;;;IAXJA;IAAAA;IACGA;IAAAA;IACAA;IAAAA;IACAA;IAAAA;IAIPA;IAAAA;;;;;;IAiBlBA;IACEA;IACFA;;;;;IAF6CA;IAC3CA;IAAAA;;;;AC9BV,OAAM,MAAOC,gBAAP,CAAuB;EAO3BC,YAAoBC,OAApB,EAAqDC,MAArD,EAAmE;IAA/C;IAAiC;IALrD,eAAU,CAAV;IAEA,YAAkB,EAAlB;IACA,oBAA0B,EAA1B;EAEwE;;EAExEC,QAAQ;IACN,KAAKC,OAAL;EACD;;EAEDA,OAAO;IACL,KAAKH,OAAL,CAAaG,OAAb,GAAuBC,SAAvB,CAAkCC,QAAD,IAAa;MAC3CA,QAAQ,CAACC,OAAT,CAAiBC,OAAO,IAAG;QACzB,IAAGA,OAAO,CAACC,KAAX,EAAkB;UAChB,KAAKC,YAAL,CAAkBC,IAAlB,CAAuBH,OAAvB;QACD,CAFD,MAEM;UACJ,KAAKI,IAAL,CAAUD,IAAV,CAAeH,OAAf;QACD;MACF,CAND;MAOA,KAAKK,OAAL,GAAe,KAAKH,YAAL,CAAkBI,MAAjC;IACF,CATD;EAUD;;EAEDC,eAAe,CAACC,IAAD,EAAc;IAC3BA,IAAI,CAACP,KAAL,GAAa,IAAb;IACA,KAAKR,OAAL,CAAagB,MAAb,CAAoBD,IAApB,EAA0BX,SAA1B,CAAoC,MAAK;MACvC,KAAKJ,OAAL,CAAaiB,OAAb,CAAqB,qBAArB;MACE,KAAKN,IAAL,GAAY,KAAKA,IAAL,CAAUO,MAAV,CAAiBX,OAAO,IAAIA,OAAO,CAACY,EAAR,KAAeJ,IAAI,CAACI,EAAhD,CAAZ;MACA,KAAKP,OAAL;IACH,CAJD;EAMD;;EAEDQ,mBAAmB;IACjB,KAAKnB,MAAL,CAAYoB,QAAZ,CAAqB,CAAC,SAAD,CAArB;EAED;;AAvC0B;;;mBAAhBvB,kBAAgBD;AAAA;;;QAAhBC;EAAgBwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDV7B7B,+BAAuB,CAAvB,EAAuB,KAAvB,EAAuB,CAAvB,EAAuB,CAAvB,EAAuB,QAAvB,EAAuB,CAAvB;MAGYA;QAAA,OAAS8B,yBAAT;MAA8B,CAA9B;MAA4F9B;MAAiBA;MAEvHA,+BAAmB,CAAnB,EAAmB,QAAnB,EAAmB,CAAnB;MACiEA;MAAwBA;MAGzFA;MAA6FA;MAAYA;MAEvGA;MAsBAA;MACEA;MAIAA;MACEA;;MAGFA;;;;;;MAvCyEA;MAAAA;MAQrCA;MAAAA;MA0B7BA;MAAAA;MAEuBA;MAAAA","names":["i0","ReadAllComponent","constructor","service","router","ngOnInit","findAll","subscribe","resposta","forEach","cliente","ativo","listFinished","push","list","inativo","length","inativarCliente","item","update","message","filter","id","navegarParaInativos","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\011026631\\Documents\\front\\todo\\src\\app\\components\\read-all\\read-all.component.html","C:\\Users\\011026631\\Documents\\front\\todo\\src\\app\\components\\read-all\\read-all.component.ts"],"sourcesContent":["<div class=\"container\">\n\n  <div class=\"badge\">\n    <button (click)=\"navegarParaInativos()\" mat-stroked-button color=\"primary\" matBadge=\"{{ inativo }}\">Clientes inativos</button>\n  </div>\n  <div class=\"badge\">\n    <button routerLink=\"listar\" mat-stroked-button color=\"primary\">Listar todos os clientes</button>\n  </div>\n\n  <button routerLink=\"create\" class=\"novo mat-elevation-z8\" mat-stroked-button color=\"primary\">Novo Cliente</button>\n\n    <div class=\"content\" *ngFor=\"let item of list\">\n        <mat-card class=\"mat-elevation-z8\">\n            \n            <mat-card-header>   \n              <mat-card-title>{{item.nome}}</mat-card-title>\n              <mat-card-subtitle>{{item.cpf}}</mat-card-subtitle>\n              <mat-card-subtitle>{{item.email}}</mat-card-subtitle>\n              <mat-card-subtitle>{{item.telefone}}</mat-card-subtitle>\n            </mat-card-header>\n\n            <div class=\"actions\">\n                  <button routerLink=\"update/{{ item.id }}\" mat-mini-fab color=\"accent\" >\n                    <mat-icon>editar</mat-icon>\n                  </button>\n                  <button (click)=\"inativarCliente(item)\" mat-mini-fab color=\"warn\" >\n                    <mat-icon>done</mat-icon>\n                  </button>\n            </div>\n          </mat-card>\n          \n    </div>\n\n    <form class=\"example-form\">\n      <input type=\"text\"\n             placeholder=\"Search for a cpf\"\n            \n             [matAutocomplete]=\"auto\">\n      <mat-autocomplete #auto=\"matAutocomplete\">\n        <mat-option *ngFor=\"let cpf of list | async\" [value]=\"cpf\"><!--*ngFor=\"let item of list\"-->\n          {{cpf}}\n        </mat-option>\n      </mat-autocomplete>\n    </form>\n\n    \n</div>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Cliente } from 'src/app/models/cliente';\nimport { ClienteService } from 'src/app/services/cliente.service';\n\n@Component({\n  selector: 'app-read-all',\n  templateUrl: './read-all.component.html',\n  styleUrls: ['./read-all.component.css']\n})\nexport class ReadAllComponent implements OnInit {\n\n  inativo = 0; \n\n  list: Cliente[] = [];\n  listFinished: Cliente[] = [];\n\n  constructor(private service: ClienteService, private router: Router) { }\n\n  ngOnInit(): void {\n    this.findAll();\n  }\n\n  findAll(): void {\n    this.service.findAll().subscribe((resposta) => {\n       resposta.forEach(cliente => {\n         if(cliente.ativo) {\n           this.listFinished.push(cliente);\n         }else {\n           this.list.push(cliente);\n         }\n       })\n       this.inativo = this.listFinished.length\n    })\n  }\n\n  inativarCliente(item: Cliente): void {\n    item.ativo = true;\n    this.service.update(item).subscribe(() => {\n      this.service.message('Cliente desativado!');\n        this.list = this.list.filter(cliente => cliente.id !== item.id);\n        this.inativo++;\n    })\n\n  }\n\n  navegarParaInativos(): void {\n    this.router.navigate(['inativo'])\n\n  }\n}\n"]},"metadata":{},"sourceType":"module"}